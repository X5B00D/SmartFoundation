# صفحة فئات المباني

## نظرة عامة

صفحة فئات المباني تتيح لك إدارة تصنيفات المباني المختلفة في النظام. يمكنك من خلالها إضافة وتعديل وحذف فئات المباني حسب صلاحياتك.

## الوصول إلى الصفحة

- القائمة الرئيسية: **الإسكان** > **التعريفات** > **فئات المباني**
- المسار: `/Housing/BuildingClass`

## الصلاحيات المطلوبة

لاستخدام هذه الصفحة، تحتاج إلى صلاحية الوصول إلى صفحة "فئات المباني". الصلاحيات المتاحة:

- **إضافة**: لإنشاء فئات مباني جديدة
- **تعديل**: لتحديث بيانات الفئات الموجودة
- **حذف**: لإزالة فئات المباني من النظام

## البيانات المعروضة

يعرض الجدول المعلومات التالية:

- **الرقم المرجعي**: معرّف فريد لكل فئة
- **فئة المبنى بالعربي**: اسم الفئة باللغة العربية
- **فئة المبنى بالانجليزي**: اسم الفئة باللغة الإنجليزية
- **ملاحظات**: وصف أو تفاصيل إضافية عن الفئة

## البحث والتصفية

### البحث السريع

1. استخدم حقل البحث أعلى الجدول
2. اكتب كلمة أو جزء من النص للبحث
3. سيتم تصفية النتائج تلقائياً أثناء الكتابة
4. يبحث النظام في جميع أعمدة الجدول

### الترتيب

- انقر على عنوان أي عمود لترتيب البيانات تصاعدياً
- انقر مرة أخرى للترتيب تنازلياً
- يظهر سهم بجانب العمود المُرتّب

### التنقل بين الصفحات

- استخدم أزرار التنقل أسفل الجدول: **الأولى**، **السابقة**، **التالية**، **الأخيرة**
- يمكنك تغيير عدد الصفوف المعروضة في الصفحة الواحدة (10، 25، 50، 100)

## إضافة فئة جديدة

إذا كانت لديك صلاحية الإضافة:

1. انقر على زر **"إضافة فئة"** (أيقونة +) في شريط الأدوات
2. ستظهر نافذة منبثقة تحتوي على نموذج الإدخال
3. املأ البيانات المطلوبة:
   - **اسم الفئة بالعربي** (إجباري): اكتب اسم الفئة بالأحرف العربية فقط
   - **اسم الفئة بالانجليزي** (اختياري): اكتب اسم الفئة بالأحرف الإنجليزية فقط
   - **ملاحظات** (اختياري): أضف أي تفاصيل إضافية
4. انقر على زر **"حفظ"** لحفظ البيانات
5. انقر على زر **"إلغاء"** للعودة بدون حفظ

**ملاحظات مهمة:**

- الحقول المميزة بعلامة النجمة الحمراء (*) إجبارية
- حقل "اسم الفئة بالعربي" يقبل الأحرف العربية فقط
- حقل "اسم الفئة بالانجليزي" يقبل الأحرف الإنجليزية فقط

## تعديل فئة موجودة

إذا كانت لديك صلاحية التعديل:

1. حدد الفئة المراد تعديلها من الجدول (انقر على صندوق الاختيار في بداية الصف)
2. انقر على زر **"الإجراءات"** في نفس الصف
3. اختر **"تعديل فئة"** من القائمة المنسدلة
4. ستظهر نافذة منبثقة تحتوي على بيانات الفئة الحالية
5. عدّل البيانات حسب الحاجة:
   - **الرقم المرجعي**: للعرض فقط ولا يمكن تعديله
   - **اسم الفئة بالعربي** (إجباري)
   - **اسم الفئة بالانجليزي** (اختياري)
   - **ملاحظات** (اختياري)
6. انقر على زر **"حفظ التعديلات"** لحفظ التغييرات
7. انقر على زر **"إلغاء"** للعودة بدون حفظ

**ملاحظة:** يجب اختيار صف واحد فقط للتعديل.

## حذف فئة

إذا كانت لديك صلاحية الحذف:

1. حدد الفئة المراد حذفها من الجدول
2. انقر على زر **"الإجراءات"** في نفس الصف
3. اختر **"حذف فئة"** من القائمة المنسدلة
4. ستظهر نافذة تحذير تطلب التأكيد
5. اقرأ رسالة التحذير بعناية
6. انقر على زر **"حذف"** للتأكيد والحذف
7. انقر على زر **"إلغاء"** للعودة بدون حذف

**تحذير:** عملية الحذف نهائية ولا يمكن التراجع عنها. تأكد من أن الفئة غير مرتبطة ببيانات أخرى في النظام.

## التصدير

### تصدير إلى PDF

1. انقر على زر **"PDF"** في شريط الأدوات
2. سيتم إنشاء ملف PDF يحتوي على جميع البيانات المعروضة
3. سيتم تنزيل الملف تلقائياً

**ملاحظات:**

- يتم تصدير البيانات المرئية فقط (بعد تطبيق البحث والتصفية)
- يتم تصدير الأعمدة الظاهرة فقط

## إدارة الأعمدة

1. انقر على زر **"الأعمدة"** في شريط الأدوات
2. ستظهر قائمة بجميع الأعمدة
3. انقر على اسم العمود لإخفائه أو إظهاره
4. يمكنك إخفاء الأعمدة غير المهمة لتسهيل العرض

## رسائل النظام

### رسائل النجاح

- **"تم الحفظ بنجاح"**: تظهر بعد إضافة فئة جديدة بنجاح
- **"تم التعديل بنجاح"**: تظهر بعد تحديث بيانات فئة موجودة
- **"تم الحذف بنجاح"**: تظهر بعد حذف فئة

### رسائل الخطأ

- **"يرجى ملء هذا الحقل"**: تظهر عند محاولة الحفظ دون ملء الحقول الإجبارية
- **"اكتب أحرف عربية فقط"**: تظهر عند كتابة أحرف غير عربية في حقل "اسم الفئة بالعربي"
- **"يجب اختيار صف واحد فقط"**: تظهر عند محاولة التعديل/الحذف دون تحديد صف أو تحديد أكثر من صف
- **"تم رصد دخول غير مصرح به"**: تظهر عند عدم وجود صلاحية للوصول إلى الصفحة

## نصائح وإرشادات

### أفضل الممارسات

1. **استخدم أسماء واضحة ومفهومة** للفئات
2. **تأكد من كتابة الاسم بالعربي والإنجليزي** لتسهيل البحث والعرض
3. **استخدم حقل الملاحظات** لإضافة تفاصيل توضيحية مهمة
4. **تحقق من البيانات قبل الحذف** لتجنب حذف بيانات مهمة

### حل المشاكل الشائعة

#### لا يظهر زر "إضافة فئة"

- تحقق من صلاحياتك: قد لا تملك صلاحية الإضافة
- اتصل بمسؤول النظام لمنحك الصلاحية المناسبة

#### لا يمكن حفظ البيانات

- تأكد من ملء جميع الحقول الإجبارية (المميزة بـ *)
- تحقق من استخدام الأحرف الصحيحة (عربي أو إنجليزي) في الحقول المخصصة
- تأكد من اتصالك بالإنترنت

#### لا تظهر البيانات في الجدول

- تحقق من البحث: قد يكون هناك نص في حقل البحث يُخفي النتائج
- امسح حقل البحث واضغط على زر "تحديث"
- تأكد من صلاحية الوصول للصفحة

#### رسالة خطأ عند الحذف

- قد تكون الفئة مرتبطة ببيانات أخرى في النظام (مثل مباني تستخدم هذه الفئة)
- اتصل بمسؤول النظام لحل الارتباطات قبل الحذف

## الأسئلة الشائعة

**س: هل يمكنني حذف عدة فئات في نفس الوقت؟**

ج: لا، النظام الحالي يسمح بحذف فئة واحدة في كل مرة.

**س: ما الفرق بين "اسم الفئة بالعربي" و"اسم الفئة بالانجليزي"؟**

ج: "اسم الفئة بالعربي" هو الاسم الرسمي للفئة باللغة العربية وهو إجباري. "اسم الفئة بالانجليزي" هو ترجمة أو اسم بديل باللغة الإنجليزية وهو اختياري.

**س: هل يمكنني تعديل الرقم المرجعي للفئة؟**

ج: لا، الرقم المرجعي يُنشأ تلقائياً من النظام ولا يمكن تعديله.

**س: كيف أعرف إذا كانت لدي صلاحية معينة؟**

ج: إذا ظهر الزر المخصص للعملية (إضافة، تعديل، حذف)، فهذا يعني أن لديك الصلاحية. إذا لم يظهر، اتصل بمسؤول النظام.

**س: هل يمكنني طباعة قائمة الفئات؟**

ج: نعم، استخدم خاصية التصدير إلى PDF ثم اطبع الملف الناتج.

## الدعم الفني

إذا واجهت أي مشكلة أو كان لديك استفسار:

- أرسل تذكرة دعم فني عبر النظام
- راجع دليل المستخدم الكامل للنظام