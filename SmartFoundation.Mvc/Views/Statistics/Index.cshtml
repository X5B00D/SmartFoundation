@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model SmartFoundation.UI.ViewModels.SmartPage.SmartPageViewModel

@{
    Layout = null;
    ViewData["Title"] = Model.PageTitle ?? "المدن الصحية";
}

<!doctype html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@ViewData["Title"]</title>

    <!-- Site / Tailwind -->
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />

    <!-- SmartCharts CSS -->
    <link rel="stylesheet" href="~/css/smartcharts.donut.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/smartcharts.line.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/smartcharts.kpi.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/smartcharts.barh.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/smartcharts.funnel.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/smartcharts.gauge.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/smartcharts.occupancy.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/smartcharts.columnpro.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/smartcharts.rings.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/smartcharts.bullet.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/smartcharts.treemap.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/smartcharts.statusstack.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/smartcharts.waterfall.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/smartcharts.statsgrid.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/smartcharts.pie3d.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/smartcharts.opsboard.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/smartcharts.execwatch.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/statistics.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/smartcharts.healthkpiroadmap.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/smartcharts.healthkpipulse.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/smartcharts.healthkpiy.css" asp-append-version="true" />
</head>

<body class="p-6">

    @if (Model?.Charts is not null)
    {
        @await Component.InvokeAsync(
        "SmartCharts",
        new { model = Model.Charts, embedded = true }
        )
        }
    else
    {
        <div class="rounded-xl border border-slate-200 bg-white p-4">
            <div class="text-sm font-semibold text-slate-700">لا توجد بيانات لعرضها</div>
            <div class="mt-1 text-xs text-slate-500">
                تأكد من تعبئة <b>Model.Charts</b> قبل استدعاء الصفحة.
            </div>
        </div>
    }

    <!-- SmartCharts JS -->
    <script src="~/js/smartcharts.donut.js" asp-append-version="true"></script>
    <script src="~/js/smartcharts.line.js" asp-append-version="true"></script>
    <script src="~/js/smartcharts.kpi.js" asp-append-version="true"></script>
    <script src="~/js/smartcharts.barh.js" asp-append-version="true"></script>
    <script src="~/js/smartcharts.funnel.js" asp-append-version="true"></script>
    <script src="~/js/smartcharts.gauge.js" asp-append-version="true"></script>
    <script src="~/js/smartcharts.occupancy.js" asp-append-version="true"></script>
    <script src="~/js/smartcharts.columnpro.js" asp-append-version="true"></script>
    <script src="~/js/smartcharts.rings.js" asp-append-version="true"></script>
    <script src="~/js/smartcharts.bullet.js" asp-append-version="true"></script>
    <script src="~/js/smartcharts.treemap.js" asp-append-version="true"></script>
    <script src="~/js/smartcharts.statusstack.js" asp-append-version="true"></script>
    <script src="~/js/smartcharts.waterfall.js" asp-append-version="true"></script>
    <script src="~/js/smartcharts.statsgrid.js" asp-append-version="true"></script>
    <script src="~/js/smartcharts.pie3d.js" asp-append-version="true"></script>
    <script src="~/js/smartcharts.opsboard.js" asp-append-version="true"></script>
    <script src="~/js/smartcharts.execwatch.js" asp-append-version="true"></script>
    <script src="~/js/smartcharts.healthkpiroadmap.js" asp-append-version="true"></script>
    <script src="~/js/smartcharts.healthkpiy.js" asp-append-version="true"></script>
    <script src="~/js/smartcharts.healthkpipulse.js" asp-append-version="true"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>

    <script>
        (function () {
            document.querySelectorAll('.smart-healthkpipulse[id]').forEach(function (el) {
                if (window.SmartCharts && SmartCharts.renderHealthKpiPulse) {
                    SmartCharts.renderHealthKpiPulse(el.id);
                }
            });
        })();
    </script>

    <script>
        (function () {
            document.querySelectorAll('.smart-healthkpiannual[id]').forEach(function (el) {
                if (window.SmartCharts && SmartCharts.renderHealthKpiAnnual) {
                    SmartCharts.renderHealthKpiAnnual(el.id);
                }
            });
        })();
    </script>

    <footer class="-mt-6 border-t border-slate-200 pt-3 text-center text-sm text-slate-600">
        إدارة مدينة الملك فيصل العسكرية للتشغيل والصيانة - قسم الحاسب الآلي © 2026
    </footer>


</body>
</html>
